<!DOCTYPE html>
<html>
    <head>

    </head>

    <body>
        <h2>To Do List</h2>

        <h5>Add a task to your list.</h5>
        <form id="addForm">
            <p>Task title:</p>
            <input type="text" id="title" name="title"> <br>
            <p>Description</p><br>
            <input type="text" id="description" name="task"> <br>
            <button type="submit" id="submitAdd" onClick="add">Add Task</button><br>
        </form>

        <div id="edit_section">

        </div><br>


        <ul id="output">

        </ul>

        <script>
            const outputVar = document.getElementById("output")
            let checker = 1
            document.getElementById("submitAdd").addEventListener("click", add)


            function add() {
                event.preventDefault()
                var task = document.getElementById("title").value
                var desc = document.getElementById("description").value

                const item = document.createElement("li")
                item.setAttribute("id", `item${checker}`)
                var button1 = document.createElement("button")
                var button2 = document.createElement("button")

                button1.setAttribute("id", `edit_${checker}`)
                button1.setAttribute("onClick", `edit(this.id)`)
                button2.setAttribute("id", `remove_${checker}`)
                button2.setAttribute("onClick", `remove(this.id)`)
                
                //let text = "Edit"
                button1.setAttribute("value", "Edit")

                const breaker = document.createElement("br")
                const name = document.createTextNode(task + ": " + desc)

                console.log(task)
                //responseElement.innerElement = task.value

                // Obtain the ID of the target element to output.

                item.appendChild(name)
                outputVar.appendChild(name)
                outputVar.appendChild(button1)
                outputVar.appendChild(button2)
                outputVar.appendChild(breaker)

                checker += 1
                console.log(checker)
            }

            function edit(id) {
                console.log("Connection successful!", id)
                //const target = document.GetElementById(``)
            }

            function remove(id) {
                console.log("Delete prevention!", id)
                const target = id.slice(7, 8)
                outputVar.removeChild(outputVar.children[(target * 4) - 1])

                checker -= 1
            }


        </script>
    </body>
</html>