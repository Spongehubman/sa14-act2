<!DOCTYPE html>
<html>
    <head>

    </head>

    <body>
        <h2>To Do List</h2>

        <h5>Add a task to your list.</h5>
        <form id="addForm">
            <p>Task title:</p>
            <input type="text" id="title" name="title"> <br>
            <p>Description</p>
            <input type="text" id="description" name="task"> <br>
            <button type="submit" id="submitAdd" onClick="add">Add Task</button><br>
        </form>

        <form id="edit_section">

        </form><br>


        <ul id="output">

        </ul>

        <script>
            const outputVar = document.getElementById("output")
            let checker = 0
            document.getElementById("submitAdd").addEventListener("click", add)


            function add() {
                event.preventDefault()
                var task = document.getElementById("title").value
                var desc = document.getElementById("description").value
                const item_node = document.createElement("li")
                var name = document.createTextNode(task + "- " + desc)

                item_node.appendChild(name)
                item_node.setAttribute("id", `item_${checker}`)
                outputVar.appendChild(item_node)

                var button1 = document.createElement("button")
                var button2 = document.createElement("button")

                button1.setAttribute("id", `edit_${checker}`)
                button1.setAttribute("onClick", `item_edit(this.id)`)
                button2.setAttribute("id", `delete_${checker}`)
                button2.setAttribute("onClick", `item_delete(this.id)`)
                
                button1.setAttribute("value", "Edit")

                const breaker = document.createElement("br")
                breaker.setAttribute("id", `breakTag_${checker}`)
                

                console.log(task)
                //responseElement.innerElement = task.value

                // Obtain the ID of the target element to output.

                
                
                outputVar.appendChild(button1)
                outputVar.appendChild(button2)
                outputVar.appendChild(breaker)

                checker += 1
                console.log(checker)
            }

            function item_edit(id) {
                console.log("Edit activate!", id)
                //const target = document.GetElementById(``)



            }

            function item_delete(id) {
                console.log("Delete activate!", id)
                var target = Number(id.slice(7, id.length))
                //var base = document.getElementById(`item${target}`)
                console.log(target)

                //document.getElementById(`edit_section`).remove()
                document.getElementById(`item_${target}`).remove()
                //document.getElementById(`item_${target}`).innerHTML = "Pending..."

                document.getElementById(`edit_${target}`).remove()
                document.getElementById(`delete_${target}`).remove()
                document.getElementById(`breakTag_${target}`).remove()


                //for (let i = 0; i > outputVar.length; i++) {
                //    console.log(outputVar[i])
                //base.removeChild()
                //outputVar.removeChild(outputVar.children[target])
                //}

                //outputVar.removeChild(outputVar[1])


                //checker -= 1
            }


        </script>
    </body>
</html>